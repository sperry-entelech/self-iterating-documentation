name = "context-version-control"
main = "src/index.ts"
compatibility_date = "2024-01-01"
node_compat = true

[vars]
ENVIRONMENT = "development"

# Add these as secrets via: wrangler secret put <SECRET_NAME>
# SUPABASE_URL
# SUPABASE_SERVICE_KEY
# TWITTER_BEARER_TOKEN
# CLAUDE_API_KEY

[[kv_namespaces]]
binding = "CONTEXT_CACHE"
id = "context_cache_dev"

[build]
command = "npm run build"

[env.production]
vars = { ENVIRONMENT = "production" }

[[env.production.kv_namespaces]]
binding = "CONTEXT_CACHE"
id = "context_cache_prod"
